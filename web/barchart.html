<!DOCTYPE html>
<!-- Based on HighCharts Demo - http://jsfiddle.net/aXFrw/4/ -->
<html>
    <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
        <title>Barchart</title>
        <script src="http://d3js.org/d3.v2.js"></script>
        <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"></script>
        <script src="http://code.highcharts.com/modules/exporting.js"></script>
        â€‹
    </head>
    <body>
        
        <script type="text/javascript">
            $(function () {
                var chart;
                
                $(document).ready(function() {
                    
                    var renderChart = function (categories, series) {
                        
                        console.log (categories);
                        console.log (series);
                        
                        // render the chart after request is complete
                        chart = new Highcharts.Chart({
                            chart: {
                                renderTo: 'container',
                                type: 'bar'
                            },
                            title: {
                                text: 'Threshold distribution'
                            },
                            subtitle: {
                                text: ''
                            },
                            xAxis: {
                                categories: categories,
                                title: {
                                    text: 'Gene names'
                                }
                            },
                            yAxis: {
                                min: 0,
                                title: {
                                    text: 'Number of neighbours',
                                    align: 'high'
                                },
                                labels: {
                                    overflow: 'justify'
                                }
                            },
                            tooltip: {
                                formatter: function() {
                                    return '' + this.series.name +': '+ this.y +' neighbours'
                                }
                            },
                            plotOptions: {
                                bar: {
                                    dataLabels: {
                                        enabled: true
                                    }
                                }
                            },
                            legend: {
                                layout: 'vertical',
                                align: 'right',
                                verticalAlign: 'top',
                                x: -100,
                                y: 100,
                                floating: true,
                                borderWidth: 1,
                                backgroundColor: '#FFFFFF',
                                shadow: true
                            },
                            credits: {
                                enabled: false
                            },
                            series: series
                        });
                    };
                    
                    d3.json("./barchart_files/data.json", function(json) {  
                        console.log (json);
                        renderChart (json.categories, json.series);
                    });
                });                
            });
        </script>

        <div id="container" style="min-width: 400px; height: 600px; margin: 0 auto"></div>

    </body>
</html>
